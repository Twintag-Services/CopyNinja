const follower=createFollower();let active=!1,message="",lastMetaPressTime=0;const doublePressThreshold=300;let timeout;function moveFollower(e){follower.style.left=e.pageX+"px",follower.style.top=e.pageY+"px"}function createAnimatedLink(){var e=chrome.runtime.getURL("css/style.css"),t=document.createElement("link");t.rel="stylesheet",t.type="text/css",t.href=e,document.head.appendChild(t)}function capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function createFollower(){var e=document.createElement("div");return e.id="cn-mouse-follower",e.className="cn-mouse-follower",document.body.prepend?document.body.prepend(e):document.body.insertBefore(e,document.body.firstChild),e}function showFollower(){active=!0,follower.classList.remove("animate__animated"),follower.classList.remove("animate__zoomOutRight"),follower.style.display="flex",follower.classList.add("animate__animated"),follower.classList.add("animate__zoomInRight"),follower.classList.add("animate__fast"),clearTimeout(timeout),timeout=setTimeout(()=>{hideFollower()},3e3)}function hideFollower(){active=!1,follower.classList.remove("animate__zoomInRight"),follower.classList.add("animate__zoomOutRight"),timeout=setTimeout(()=>{follower.style.display="none",follower.innerHTML=""},400)}document.addEventListener("mousemove",moveFollower),chrome.runtime.onMessage.addListener((e,t,o)=>("active"===e.action&&(follower.innerHTML=12<e.value.length?capitalizeFirstLetter(e.value).substring(0,12)+"...<b style='margin-left:8px'>copied!</b>":capitalizeFirstLetter(e.value)+"...<b style='margin-left:8px'>copied!</b>",showFollower()),!0)),document.addEventListener("copy",async function(e){let t=await navigator.clipboard.readText();follower.innerHTML=capitalizeFirstLetter(t.substring(0,18)+"...   <b style='margin-left:8px'>copied!</b>"),showFollower(),chrome.storage.local.get("historyData",e=>{e=e.historyData||[];2<e.length&&e.shift(),e.push({name:18<=t.length?t.substring(0,18)+"...":t,value:t,dateCreated:(new Date).toISOString()}),chrome.storage.local.set({historyData:e},()=>{})}),e.preventDefault()});